(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c2c7479"],{"34f4":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var n=s("5e1d"),a=s("db4b"),i=function(){function t(){Object(n["a"])(this,t),this.phoneReg=/^1[3456789]\d{9}$/,this.pwdReg=/^(?=.*[a-z])\w{6,16}$/}return Object(a["a"])(t,[{key:"isPhone",value:function(t){return this.phoneReg.test(t)}},{key:"isPwd",value:function(t){return this.pwdReg.test(t)}}]),t}(),o=new i},"73cf":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("header",[s("i",{on:{click:t.back}})]),s("div",{staticClass:"registerbox"},[s("div",{staticClass:"title"},[t._v("注册")]),s("div",{staticClass:"form-box"},[s("div",{staticClass:"input phoneinp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"inptext",attrs:{type:"text",placeholder:"请输入手机号码"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),s("div",{staticClass:"input uinp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.nickname,expression:"user.nickname"}],staticClass:"inptext",attrs:{type:"text",placeholder:"请输入昵称(不宜过长)"},domProps:{value:t.user.nickname},on:{input:function(e){e.target.composing||t.$set(t.user,"nickname",e.target.value)}}})]),s("div",{staticClass:"input uinp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pwd,expression:"user.pwd"}],staticClass:"inptext",attrs:{type:"password",placeholder:"密码长度6-20位"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value)}}})]),s("div",{staticClass:"codeinp clearfix"},[s("div",{staticClass:"fl input code-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.code,expression:"user.code"}],staticClass:"inptext",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.user.code},on:{input:function(e){e.target.composing||t.$set(t.user,"code",e.target.value)}}})]),s("div",{staticClass:"fl code-btn",on:{click:t.getCode}},[t._v(t._s(t.codeContent.txt))])]),s("div",{staticClass:"register-btn",on:{click:t.register}},[t._v("注册")])])]),t._m(0)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"protocol"},[t._v("注册即代表您同意我们的 "),s("a",{attrs:{href:""}},[t._v("《注册协议》")])])}],i=s("34f4"),o={name:"register",data:function(){return{user:{phone:"",code:"",pwd:"",nickname:""},codeContent:{txt:"获取验证码",time:5}}},methods:{getCode:function(){var t=this;if(i["a"].isPhone(this.user.phone)){this.codeContent.txt=this.codeContent.time+"s后重新获取";var e=setInterval((function(){t.codeContent.time--,-1==t.codeContent.time?(clearInterval(e),e=null,t.codeContent.txt="获取验证码",t.codeContent.time=5):t.codeContent.txt=t.codeContent.time+"s后重新获取"}),1e3);this.axios({method:"GET",url:"/getMessageCode",params:{phone:this.user.phone}}).then((function(e){2e4==e.data.status&&t.$cookies.set(e.data.__ctk.key,e.data.__ctk.ctk,e.data.time)})).catch((function(t){}))}else this.$notify({type:"warning",message:"手机号码格式不正确"})},register:function(){var t=this;this.$toast({duration:0,message:"注册中..."}),this.axios({method:"POST",url:"/appRegister",data:{phone:this.user.phone,key:"code",code:this.user.code,pwd:this.user.pwd,nickname:this.user.nickname}}).then((function(e){1e3==e.data.status&&t.$cookies.set(e.data.__utk.key,e.data.__utk.utk,24*e.data.time*60*60),t.$toast.clear(),t.$notify({type:1e3==e.data.status?"success":"warning",message:e.data.msg,onClose:function(){1e3==e.data.status&&t.$router.push({name:"pwdlogin"})}})})).catch((function(e){t.$toast.clear()}))},back:function(){this.$router.push({name:"login"})}}},c=o,r=(s("a879"),s("5511")),u=Object(r["a"])(c,n,a,!1,null,"1711a604",null);e["default"]=u.exports},"9a26":function(t,e,s){},a879:function(t,e,s){"use strict";var n=s("9a26"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-7c2c7479.98c4391c.js.map