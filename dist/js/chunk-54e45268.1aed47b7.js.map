{"version":3,"sources":["webpack:///./src/views/Detail.vue?64d0","webpack:///./src/views/Detail.vue?271d","webpack:///src/views/Detail.vue","webpack:///./src/views/Detail.vue?ca30","webpack:///./src/views/Detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_v","proDetailData","pimg","_s","pPrice","pname","pdetail","slot","model","value","callback","$$v","activeName","expression","showSku","skuData","sku","goods_info","goods_id","hide_stock","quota","quota_used","start_sale_num","customStepperConfig","addShopcart","show","staticRenderFns","component"],"mappings":"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","file":"js/chunk-54e45268.1aed47b7.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=451e1cad&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=451e1cad&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('header',[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-arrow\":\"\",\"border\":false},on:{\"click-left\":_vm.back}},[_vm._v(\"/>\")])],1),_c('div',{staticClass:\"detailbox\"},[_c('div',{staticClass:\"slide\"},[_c('div',[_c('img',{staticClass:\"autoimg\",attrs:{\"src\":_vm.proDetailData.pimg,\"alt\":\"\"}})])]),_c('div',{staticClass:\"detailinfo\"},[_c('div',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(_vm.proDetailData.pPrice))]),_c('div',{staticClass:\"pro-detail\"},[_c('div',{staticClass:\"pro-name one-txt\"},[_vm._v(_vm._s(_vm.proDetailData.pname))]),_c('div',{staticClass:\"pro-subname two-txt\"},[_vm._v(\"红红火火恍恍惚惚\"+_vm._s(_vm.proDetailData.pdetail))])]),_c('van-cell-group',[_c('van-cell',{attrs:{\"is-link\":true}},[_c('template',{slot:\"title\"},[_c('span',{staticClass:\"custom-title c-title\"},[_vm._v(\"领券：\")]),_c('span',[_vm._v(\"标签\")])])],2),_c('van-cell',{attrs:{\"is-link\":true}},[_c('template',{slot:\"title\"},[_c('span',{staticClass:\"custom-title c-title\"},[_vm._v(\"配送：\")]),_c('span',[_vm._v(\"广东省广州市\")])])],2)],1),_c('van-tabs',{attrs:{\"sticky\":true,\"offset-top\":46},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('van-tab',{attrs:{\"title\":\"商品详情\",\"name\":\"detail\"}}),_c('van-tab',{attrs:{\"title\":\"商品评论\",\"name\":\"comment\"}},[_vm._v(\"内容 2\")])],1)],1)]),_c('footer',[_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"text\":\"客服\"}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"wap-home-o\",\"text\":\"首页\"}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"shopping-cart-o\",\"text\":\"购物车\",\"info\":\"5\"}}),_c('van-goods-action-button',{attrs:{\"type\":\"warning\",\"text\":\"加入购物车\"},on:{\"click\":_vm.showSku}}),_c('van-goods-action-button',{attrs:{\"type\":\"danger\",\"text\":\"立即购买\"},on:{\"click\":_vm.showSku}})],1)],1),_c('van-sku',{attrs:{\"sku\":_vm.skuData.sku,\"goods\":_vm.skuData.goods_info,\"goods-id\":_vm.skuData.goods_id,\"hide-stock\":_vm.skuData.sku.hide_stock,\"quota\":_vm.skuData.quota,\"quota-used\":_vm.skuData.quota_used,\"start-sale-num\":_vm.skuData.start_sale_num,\"custom-stepper-config\":_vm.customStepperConfig,\"hide-quota-text\":\"\",\"safe-area-inset-bottom\":\"\"},on:{\"add-cart\":_vm.addShopcart},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"detail\">\r\n      <header>\r\n          <van-nav-bar title=\"商品详情\" left-arrow :border=\"false\" @click-left=\"back\">/></van-nav-bar>\r\n      </header>\r\n\r\n        <div class=\"detailbox\">\r\n            <!-- <div class=\"slide\">\r\n                <van-swipe :autoplay=\"3000\" indicator-color=\"white\">\r\n                  <van-swipe-item>\r\n                    <div>\r\n                      <img class=\"autoimg\" src=\"http://img0.imgtn.bdimg.com/it/u=3024308660,1355431406&fm=26&gp=0.jpg\" alt=\"\">\r\n                    </div>\r\n                  </van-swipe-item>\r\n                </van-swipe>\r\n            </div> -->\r\n            <div class=\"slide\">\r\n                <div>\r\n                    <!-- <img class=\"autoimg\" :src=\"imgBaseUrl + proDetailData.pimg\" alt=\"\"> -->\r\n                    <img class=\"autoimg\" :src=\"proDetailData.pimg\" alt=\"\">\r\n                </div>\r\n            </div>\r\n            <div class=\"detailinfo\">\r\n                <div class=\"price\">&yen;{{proDetailData.pPrice}}</div>\r\n                <div class=\"pro-detail\">\r\n                  <div class=\"pro-name one-txt\">{{proDetailData.pname}}</div>\r\n                  <div class=\"pro-subname two-txt\">红红火火恍恍惚惚{{proDetailData.pdetail}}</div>\r\n                </div>\r\n                <van-cell-group>\r\n                    <van-cell :is-link=\"true\">\r\n                       <template slot=\"title\">\r\n                        <span class=\"custom-title c-title\">领券：</span>\r\n                        <span>标签</span>\r\n                      </template>\r\n                    </van-cell>\r\n\r\n                    <van-cell :is-link=\"true\">\r\n                       <template slot=\"title\">\r\n                        <span class=\"custom-title c-title\">配送：</span>\r\n                        <span>广东省广州市</span>\r\n                      </template>\r\n                    </van-cell>\r\n                </van-cell-group>\r\n                <van-tabs v-model=\"activeName\" :sticky=\"true\" :offset-top=\"46\">\r\n                  <van-tab title=\"商品详情\" name=\"detail\"></van-tab>\r\n                  <van-tab title=\"商品评论\" name=\"comment\">内容 2</van-tab>\r\n                </van-tabs>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <footer>\r\n            <van-goods-action>\r\n                <van-goods-action-icon icon=\"chat-o\" text=\"客服\" />\r\n                <van-goods-action-icon icon=\"wap-home-o\" text=\"首页\" />\r\n                <van-goods-action-icon icon=\"shopping-cart-o\" text=\"购物车\" info=\"5\" />\r\n                <van-goods-action-button type=\"warning\" @click=\"showSku\" text=\"加入购物车\" />\r\n                <van-goods-action-button type=\"danger\" @click=\"showSku\" text=\"立即购买\" />\r\n            </van-goods-action>\r\n        </footer>\r\n        <van-sku\r\n            v-model=\"show\"\r\n            :sku=\"skuData.sku\"\r\n            :goods=\"skuData.goods_info\"\r\n            :goods-id=\"skuData.goods_id\"\r\n            :hide-stock=\"skuData.sku.hide_stock\"\r\n            :quota=\"skuData.quota\"\r\n            :quota-used=\"skuData.quota_used\"\r\n            :start-sale-num=\"skuData.start_sale_num\"\r\n            :custom-stepper-config=\"customStepperConfig\"\r\n            hide-quota-text\r\n            safe-area-inset-bottom\r\n            @add-cart=\"addShopcart\"\r\n        />\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:'detail',\r\n\r\n        data(){\r\n            return {\r\n                imgBaseUrl:'http://127.0.0.1:10008/assets/', //图片接口\r\n                activeName:'detail',\r\n                proDetailData:{},\r\n                      \r\n                show: false,\r\n                customStepperConfig: {\r\n                  quotaText: '单次限购1件',\r\n                  stockFormatter: (stock) => `剩余${stock}件`,\r\n                  handleOverLimit: (data) => {\r\n                    const { action, limitType, quota, startSaleNum = 1 } = data;\r\n            \r\n                    if (action === 'minus') {\r\n                      this.$toast(startSaleNum > 1 ? `${startSaleNum}件起售` : '至少选择一件商品');\r\n                    } else if (action === 'plus') {\r\n                      if (limitType === 0) {\r\n                        this.$toast(`限购${quota}件`);\r\n                      } else {\r\n                        this.$toast('库存不够了');\r\n                      }\r\n                    }\r\n                  }\r\n                },\r\n                skuData: {\r\n                \r\n                  goods_id: \"\", //商品id\r\n                  start_sale_num: 1, //至少购买一件\r\n\r\n                  //商品信息\r\n                  goods_info: {\r\n                    title: \"\",  //商品名称\r\n                    picture: \"\", //商品图片\r\n                    price: 0 //商品价格\r\n                  },\r\n                  sku: {\r\n                    price: \"0\", //商品价格\r\n                    stock_num: 0, //库存量\r\n                    none_sku: true, //隐藏规格\r\n                    hide_stock: false, //是否隐藏库存量\r\n                    tree: [],\r\n                    list: []\r\n                  }\r\n                }\r\n            };\r\n        },\r\n\r\n        created(){\r\n            //当data初始化完成时\r\n            //截取路由参数 this.$route\r\n            // console.log('this.$route.params.id=>',this.$route.params.id);\r\n            this.axios({\r\n                method:'GET',\r\n                url:'/appProDetail', //使用基础路径直接写这里路径就行\r\n                params:{\r\n                    id: this.$route.params.id\r\n                }\r\n            }).then(result =>{\r\n                // console.log('result=>',result);\r\n                if (result.data.status === 4000) {\r\n                    // 解决异步图片有可能undefined的情况\r\n                    result.data.data[0].pimg = this.imgBaseUrl + result.data.data[0].pimg;\r\n\r\n                    // console.log('result.data=>',result.data);\r\n                    this.proDetailData = result.data.data[0]\r\n\r\n                    this.skuData.goods_id = result.data.data[0].pid;\r\n                    this.skuData.goods_info.title = result.data.data[0].pname;\r\n                    this.skuData.goods_info.picture = result.data.data[0].pimg;\r\n                    this.skuData.goods_info.price = result.data.data[0].pPrice;\r\n                    this.skuData.sku.price = result.data.data[0].pPrice;\r\n                    this.skuData.sku.stock_num = result.data.data[0].pcount;\r\n                    this.customStepperConfig.quotaText = `单次限购买${result.data.data[0].pcount}件`\r\n\r\n                }\r\n            }).catch( err=>{\r\n                // console.log('err=>','出错了！');\r\n            })\r\n        },\r\n\r\n        methods:{\r\n            back(){\r\n               this.$router.go(-1);\r\n            },\r\n\r\n            //显示商品操作面板sku\r\n            showSku() {\r\n              this.show = true;\r\n            },\r\n\r\n            // 加入购物车\r\n            addShopcart(data) {\r\n                // console.log('data ==> ', data);\r\n                // 发起请求\r\n                this.axios({\r\n                    method:'POST',\r\n                    url:'/appaddShopcart',\r\n                    data:{\r\n                        //需要验证登录\r\n                        key:'default',\r\n                        count: data.selectedNum,\r\n                        pid: data.goodsId\r\n                    }\r\n                }).then( result =>{\r\n                    // console.log('addShopcart result ==> ', result);\r\n\r\n                    this.show = false; //关闭sku面板                 \r\n                    this.$toast.success(result.data.msg); //提示\r\n\r\n                }).catch(err => {\r\n                    // console.log('addShopcart 出错了');\r\n                    this.$toast.success(result.data.msg);\r\n                })\r\n            }\r\n    \r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .detail{\r\n        header{\r\n            width: 100%;\r\n            background-color: #f5f5f5;\r\n            position: relative;\r\n            /deep/.van-nav-bar{\r\n              background-color: transparent;\r\n            }\r\n            .van-nav-bar__title{\r\n              color: #000;\r\n              font-size: 18px;\r\n            }\r\n            .van-icon-arrow-left:before{\r\n               color: #888;\r\n               font-size: 22px;\r\n            }\r\n        }\r\n        .detailbox{\r\n            position: fixed;\r\n            top: 46px;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            padding:0 5px;\r\n            overflow-y: auto;\r\n            padding-bottom: 50px;\r\n            .detailinfo{\r\n                width: 100%;\r\n            }\r\n        }\r\n        .price{\r\n          line-height: 34px;\r\n          color: red;\r\n          font-size: 16px;\r\n          padding: 0 10px;\r\n          font-weight: bold;\r\n        }\r\n        .pro-detail{\r\n          padding: 10px;\r\n          background-color: #fff;\r\n          font-size: 14px;\r\n          color:#333;\r\n          .pro-name{\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n          }\r\n          .pro-subname{\r\n            margin-top: 10px;\r\n            margin-bottom: 20px;\r\n          }\r\n        }\r\n        .c-title{\r\n          margin-right: 10px;\r\n          color: #a0a0a0;\r\n        }  \r\n        \r\n        footer{\r\n          /deep/.van-goods-action-icon__icon  {\r\n            font-size: 22px;\r\n          }\r\n          .van-goods-action-icon {\r\n            font-size: 13px;\r\n          }\r\n        }\r\n        \r\n    }\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=451e1cad&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=451e1cad&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"451e1cad\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}